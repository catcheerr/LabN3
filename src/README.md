## Отчет по лабораторной работе № 3

#### № группы: `ПМ-2402`

#### Выполнил: `Минина Анастасия Владимировна`

#### Вариант: `17`

### Cодержание:

- [Постановка задачи](#1-постановка-задачи)
- [Выбор структуры данных](#3-выбор-структуры-данных)
- [Описание классов](#4-алгоритм)
- [Программа](#5-программа)
- [Анализ правильности решения](#6-анализ-правильности-решения)

### 1. Постановка задачи

>Разработать программу для тренировки навыков скоропечатания на нескольких языках, начиная с русского и поддерживая до 
>пяти языков. Реализовать функционал добавления новых языков, анализа прогресса, расчёта скорости печати и её зависимости
>от успехов на других языках, а также подсчёта времени и количества напечатанных символов.


<i>Описание функционала:</i>
1. <b>Создание системы скоропечатания</b>
   <br/> Создаёт объект системы скоропечатания. Изначально школьник знает только русский язык («ru»), печатает на нём со 
   скоростью 100 символов в минуту.<br/><br/>
2. <b>Вывод информации о системе</b>
   <br/>Отображает список изучаемых языков, их скорости, суммарное время печати и
   общее количество символов, напечатанных на каждом языке.<br/><br/>
3. <b>Печать на языке</b>
   <br/>Выполняет печать указанного количества символов на выбранном языке. Учитывает текущую скорость печати на языке. Общее количество символов обновляется
   по завершении действия. Учитывает правила изменения скорости (каждые 1000 символов скорость увеличивается на 5 символов
   в минуту).<br/><br/>
4. <b>Получение скорости печати</b>
   <br/>Возвращает текущую скорость печати на указанном языке<br/><br/>
5. <b>Изучение нового языка</b>
   <br/>Добавляет новый язык, если общее количество изучаемых языков меньше пяти.
   Скорость печати на новом языке рассчитывается как Макс(100, $\frac{мин}{2}$), где мин - минимальный прогресс на 
других языках<br/><br/>
6. <b>Печать по времени</b>
   <br/>Выполняет печать на указанном языке в течение переданного времени (в минутах). Рассчитывает количество символов,
    напечатанных за это время. Учитывает правила изменения скорости (каждые 1000 символов скорость увеличивается на 5 символов
   в минуту).<br/><br/>
7. <b>Определение самого активного языка</b>
   <br/>Возвращает язык, на котором школьник печатал дольше всего.<br/><br/>
8. <b>Расчёт количества символов для сравнения скорости</b>
   <br/>Определяет, сколько символов необходимо напечатать на самом медленном языке,
   чтобы его скорость сравнялась с самым быстрым языком. Учитывает правила
   изменения скорости (каждые 1000 символов скорость увеличивается на 5 символов
   в минуту).<br/><br/>






### 2. Выбор структуры данных


#### <big>Структуры данных</big>

1. Массивы 
   <br/>Массив languages в классе RapidPrint: В классе RapidPrint используется массив languages для хранения объектов типа 
   Language. Это основной контейнер, который хранит все языки, доступные в программе.
   Массив фиксированный, размер ограничен константой maxCount (5). 

   Массив используется для:

   - Хранения информации о языках.
   - Индексации языков по порядковому номеру в массиве.
   - Добавления новых языков (в пределах лимита).


2. Целочисленные переменные 
   <br/>В обоих классах для хранения количества символов (count), времени (time), скорости (speed), количества языков 
(langCount), а также других числовых данных, используется тип данных int.


3. Строки 
   <br/>Строки (String) используются для хранения информации о названии языка. Например, атрибут name в классе Language.

### 3. Описание классов

#### <big>Класс "Language"</big>

Класс Language моделирует процесс печати на языке с определёнными параметрами. Он учитывает такие факторы, как 
скорость печати, количество символов и время, затраченное на печать.

<br/><b>Поля класса:</b>

1) name — строка, которая хранит название языка (например, "ru" для русского).
2) speed — целое число, которое указывает скорость печати, выраженную в количестве символов в минуту.
3) count — количество символов, которые были напечатаны.
4) time — общее время печати в минутах.

<br/><b>Конструкторы:</b>

<br/>Language() — конструктор по умолчанию, который инициализирует объект с:

- языком "ru" (русский)
- скоростью 100 символов в минуту
- количеством напечатанных символов (0)
- временем печати (0)

Language(String name, int speed) — конструктор с параметрами для задания:

- языка (например, "eng" для английского),
- скорости печати (например, 120 символов в минуту). По умолчанию, количество символов и время печати также 
устанавливаются в 0.

<br/><b>Геттеры:</b>

- getName() — возвращает название языка.
- getSpeed() — возвращает скорость печати.
- getCount() — возвращает количество напечатанных символов.
- getTime() — возвращает время, затраченное на печать.

<br/><b>Методы:</b>
<br/>1) typeSign(int newCount) — метод для печати определенного количества символов (например, 100 символов). Этот метод обновляет:

- time — увеличивает время на основе количества символов, используя скорость печати (время = количество символов / скорость).
- count — увеличивает количество напечатанных символов на указанное значение newCount.

<br/>2) typeTime(int newTime) — метод для печати в течение определённого времени (например, 5 минут). Он вычисляет, сколько 
символов будет напечатано за это время, и обновляет:

- count — увеличивает количество символов на количество, которое может быть напечатано за newTime минут.
- time — увеличивает общее время печати на newTime минут. Метод возвращает количество символов, напечатанных за это время.

<br/>3) increaseSpeed(int numChars) — метод для увеличения скорости печати. Каждый раз, когда напечатано 1000 символов, скорость 
увеличивается на 5 символов в минуту. Это делается путем вычисления количества тысяч символов (numChars / 1000) и добавления 
соответствующего увеличения в скорость.

<br/>4) Переопределённый метод toString():
Метод toString() возвращает строковое представление объекта, которое включает всю информацию о текущем состоянии языка:

- название языка
- скорость печати
- количество напечатанных символов
- общее время, затраченное на печать

#### <big>Класс "RapidPrint"</big>

<br/>Класс RapidPrint работает с массивом языков, предоставляет различные операции с ними (печать, изменение скорости, 
добавление новых языков и т. д.) и выводит статистику по каждому языку.

<br/><b>Поля класса:</b>

1) languages — массив объектов типа Language, который хранит языки, поддерживаемые программой. Максимальное количество 
языков ограничено значением maxCount (5).
2) langCount — количество языков, которые в данный момент поддерживаются и добавлены в массив.
3) maxCount — максимальное количество языков, которые могут быть добавлены в программу. Эта переменная фиксирована (5).

<br/><b>Конструктор:</b>

<br/>RapidPrint() — конструктор по умолчанию, который создаёт массив для хранения языков и добавляет в него первый язык 
(по умолчанию русский язык с параметрами из конструктора Language()). Также инициализирует счётчик langCount значением 1.

<br/><b>Методы класса:</b>

<br/>1) printInfo() — выводит информацию о всех поддерживаемых языках, включая:

- Название языка
- Скорость печати (в символах/мин)
- Количество напечатанных символов
- Общее время печати. Также выводится суммарное время печати и общее количество напечатанных символов по всем языкам.

<br/>2) typing(String language, int countSign) — выполняет печать определённого количества символов на указанном языке. 
После печати увеличивает скорость этого языка. Если язык не найден, выводится сообщение об ошибке.

<br/>3) typingByTime(String language, int time) — выполняет печать в течение заданного времени на указанном языке. 
Количество символов, которые могут быть напечатаны за это время, вычисляется на основе скорости языка. 
После печати скорость также увеличивается. Если язык не найден, выводится сообщение об ошибке.

<br/>4) gettingSpeed(String language) — выводит текущую скорость печати для указанного языка. 
Если язык не найден, выводится сообщение об ошибке.

<br/>5) LearningNewLanguage(String language) — добавляет новый язык в систему, если количество языков ещё не достигло максимума. 
Новый язык получает скорость, которая является минимальной среди всех языков, делённой на 2, но не менее 100 символов/мин. 
Если количество языков уже больше или равно максимальному, выводится сообщение об ошибке.

<br/>6) mostActive() — находит и возвращает язык, на котором было затрачено больше всего времени на печать (самый активный язык).

<br/>7) compareSpeed() — сравнивает скорости всех языков и выводит информацию о том, сколько символов необходимо напечатать, 
чтобы сравнить скорость самого быстрого языка с самым медленным. Если скорости одинаковы или данные некорректны, 
выводится соответствующее сообщение.

<br/>8) findLanguage(String language) — вспомогательный метод, который ищет язык по имени в массиве languages. 
Если язык найден, возвращает его, иначе — null.


### 4. Программа

```java
// класс для языков
class Language {
    private String name; // название языка
    private int speed; // скорость кол-во символов в минуту
    private int count; // количество напечатанных символов
    private int time; // суммарное время печати
    public Language(){ // конструктов
        this.name = "ru"; // название языка, изначально русский
        this.speed = 100; // скорость, изначально 100 сим/мин
        this.count = 0; // количество символов
        this.time = 0; // время
    }

    public Language(String name, int speed){
        this.name = name;
        this.speed = speed;
        this.count = 0;
        this.time = 0;
    }
    // геттеры
    public String getName(){
        return name;
    }

    public int getSpeed(){
        return speed;
    }

    public int getCount(){
        return count;
    }

    public int getTime(){
        return time;
    }
    // печать определенного количества символов
    public void typeSign(int newCount){
        this.time += newCount / speed;
        this.count += newCount;

    }
    // печать по времени
    public int typeTime(int newTime){
        int newCount = newTime * speed;
        this.count += newCount;
        this.time += newTime;
        return newCount;
    }
    // изменение скорости по определенному правилу
    public void increaseSpeed(int numChars) {
        // Каждые 1000 символов увеличивают скорость на 5 символов в минуту
        int increments = numChars / 1000;
        this.speed += increments * 5;
    }
    // вывод информации о текущем языке
    @Override
    public String toString(){
        return String.format("Язык: %s\nСкорость: %d символов в минуту\nКоличество символов: %d\nВремя: %d мин.\n",
                name, speed, count, time);
    }

}
// класс скоропечатание
class RapidPrint{
    private Language[] languages; // массив для хранения языков
    public int langCount; // количество языков
    private final int maxCount = 5; // максимальное количество поддерживаемых языков

    public RapidPrint(){
        languages = new Language[maxCount]; // создаем массив для хранения языков
        languages[0] = new Language(); // добавляем первый язык
        langCount = 1; // обновили счетчик
    }
    // вывод информации о всех языках
    public void printInfo(){
        int allTime = 0; // переменная для хранения общего времени
        int allCount = 0; // переменная для хранения общего количества символов
        String result = ""; // строка в которую накапливаем всю информацию
        System.out.print("\nВывод информации:\n");
        System.out.print("---------------------------\n");
        for (int i = 0; i < langCount; i++){
            result += String.format("Язык: %s\nСкорость: %d символов/мин\nКоличество символов: %d\nВремя: %d мин." +
                            "\n---------------------------\n", languages[i].getName(),languages[i].getSpeed(),
                    languages[i].getCount(), languages[i].getTime());
            allTime += languages[i].getTime(); // увеличиваем общее время
            allCount += languages[i].getCount(); // увеличиваем общее количество символов
        }
        System.out.print(result);
        System.out.printf("Суммарное время печати: %d мин.\n", allTime);
        System.out.printf("Общее количество символов: %d\n\n", allCount);

    }
    // печать определенного количества символов
    public void typing(String language, int countSign){
        Language l = findLanguage(language); // проверяем есть ли такой язык
        if (l != null){
            l.typeSign(countSign); // печатаем определенное количество символов
            l.increaseSpeed(l.getCount()); // увеличиваем скорость
            System.out.printf("Напечатано %d символов на языке %s\n", countSign, language);
        }
        else{
            System.out.println("Язык не найден!");
        }
    }
    // печать по времени
    public void typingByTime(String language, int time){
        Language l = findLanguage(language); // проверяем есть ли такой язык
        if (l != null){
            int count = l.typeTime(time); // печатаем по времени
            l.increaseSpeed(l.getCount()); // увеличиваем скорость
            System.out.printf("За %d мин. было напечатано %d сим. на языке %s\n", time, count, language);
        }
        else{
            System.out.println("Язык не найден!");
        }
    }
    // получение текущей скорости языка
    public void gettingSpeed(String language){
        Language l = findLanguage(language); // проверяем есть ли такой язык
        if (l != null){
            System.out.printf("Текущая скорость на языке %s: %d\n", language, l.getSpeed());
        }
        else{
            System.out.println("Язык не найден!");
        }

    }
    // изучение нового языка
    public void LearningNewLanguage(String language){
        if (langCount < maxCount){ // проверяем не превышен ли лимит языков
            // определяем минимальную скорость среди всех языков
            int minSpeed = languages[0].getSpeed();
            for (int i = 1; i < langCount; i++){
                minSpeed = Math.min(minSpeed, languages[i].getSpeed());
            }
            int speed = Math.max(100, (minSpeed / 2)); // получаем новую скорость
            languages[langCount] = new Language(language, speed); // добавляем новый элемент в массив
            langCount++; // увеличиваем счетчик языков
            System.out.printf("Язык %s успешно добавлен!\n", language);

        }
        else {
            System.out.println("Количество языков превышает лимит! Программа поддерживает до пяти языков!");
        }
    }

    // определение самого активного языка
    public String mostActive(){
        int maxTime = languages[0].getTime();
        int indexLang = 0;
        // ищем максимальную скорость среди всех языков
        for (int i = 1; i < langCount; i++){
            if (maxTime < languages[i].getTime()) {
                indexLang = i;
                maxTime = languages[i].getTime();
            }
        }
        return languages[indexLang].getName();
    }

    public void compareSpeed() {
        if (langCount == 1) // если только один язык, то сравнение не требуется
            return;
        Language fast = languages[0];
        Language slow = languages[0];
        for (int i = 1; i < langCount; i++) {
            if (languages[i].getSpeed() > fast.getSpeed()) { // определяем самый быстрый язык
                fast = languages[i];
            }
            if (languages[i].getSpeed() < slow.getSpeed()) { // определяем самый медленный язык
                slow = languages[i];
            }
        }
        // сравниваем скорости
        if (fast.getSpeed() > slow.getSpeed()) {
            int sign = 0;
            int slowSpeed = slow.getSpeed();
            while (slowSpeed < fast.getSpeed()) { // пока минимальная скорость не достигла максимальной
                slowSpeed += 5; // скорость увеличиваем на 5
                sign += 1000; // количество символов увеличиваем на 1000
            }
           System.out.printf("Необходимо напечатать %d символов на языке %s, чтобы его скорость сравнялась с самым быстрым языком %s.\n", sign, slow.getName(), fast.getName());
        } else {
            System.out.println("Скорости языков одинаковы или ошибка данных!");
        }
    }
    // проверяем изучается ли данный язык
    private Language findLanguage(String language) {
        for (int i = 0; i < langCount; i++) {
            if (languages[i].getName().equals(language)) {
                return languages[i];
            }
        }
        return null;
    }
}
```

### 5. Анализ правильности решения

Программа работает корректно на всем множестве решений с учетом ограничений.

1. Тест на пункт 1 `Создание системы скоропечатания` и пункт 2 `Вывод информации о системе`:

    - **Input**:
        ```
        RapidPrint child = new RapidPrint();
        child.printInfo();
        ```

    - **Output**:
        ```
        Вывод информации:
        ---------------------------
        Язык: ru
        Скорость: 100 символов/мин
        Количество символов: 0
        Время: 0 мин.
        ---------------------------
        Суммарное время печати: 0 мин.
        Общее количество символов: 0
        ```

2. Тест на пункт 3 `Печать на языке`:

    - **Input**:
        ```
        child.typing("ru", 20000);
        ```

    - **Output**:
        ```
        Напечатано 20000 символов на языке ru
        ```

3. Тест на пункт 4 `Получение скорости печати`:

    - **Input**:
        ```
        child.gettingSpeed("ru");
        ```

    - **Output**:
        ```
        Текущая скорость на языке ru: 130
        ```

4. Тест на пункт 5 `Изучение нового языка`:

    - **Input**:
        ```
        child.LearningNewLanguage("eng");
        child.LearningNewLanguage("fi");
        ```

    - **Output**:
        ```
        Язык eng успешно добавлен!
        Язык fi успешно добавлен!
        ```

5. Тест на пункт 6 `Печать по времени`:

    - **Input**:
        ```
        child.typingByTime("fi", 70);
        ```

    - **Output**:
        ```
        За 70 мин. было напечатано 7000 сим. на языке fi
        ```
6. Тест на пункт 7 `Определение самого активного языка`:

   - **Input**:
       ```
       child.typing("ru", 20000);
       child.typingByTime("ru", 60);
       child.LearningNewLanguage("eng");
       child.printInfo();
       out.printf("Самый активный язык: %s\n", child.mostActive());
       ```

   - **Output**:
       ```
       Напечатано 20000 символов на языке ru
       За 60 мин. было напечатано 12000 сим. на языке ru
       Язык eng успешно добавлен!
       Язык fi успешно добавлен!

       Вывод информации:
       ---------------------------
       Язык: ru
       Скорость: 360 символов/мин
       Количество символов: 32000
       Время: 260 мин.
       ---------------------------
       Язык: eng
       Скорость: 180 символов/мин
       Количество символов: 0
       Время: 0 мин.
       ---------------------------
       Язык: fi
       Скорость: 100 символов/мин
       Количество символов: 0
       Время: 0 мин.
       ---------------------------
       Суммарное время печати: 260 мин.
       Общее количество символов: 32000

       Самый активный язык: ru

       ```
7. Тест на пункт 8 `Расчёт количества символов для сравнения скорости`:

   - **Input**:
       ```
       child.typing("ru", 20000);
       child.typingByTime("ru", 60);
       child.LearningNewLanguage("eng");
       child.printInfo();
       out.printf("Самый активный язык: %s\n", child.mostActive());
       child.compareSpeed();
       ```

   - **Output**:
       ```
       Напечатано 20000 символов на языке ru
       За 60 мин. было напечатано 12000 сим. на языке ru
       Язык eng успешно добавлен!
       Язык fi успешно добавлен!

       Вывод информации:
       ---------------------------
       Язык: ru
       Скорость: 360 символов/мин
       Количество символов: 32000
       Время: 260 мин.
       ---------------------------
       Язык: eng
       Скорость: 180 символов/мин
       Количество символов: 0
       Время: 0 мин.
       ---------------------------
       Язык: fi
       Скорость: 100 символов/мин
       Количество символов: 0
       Время: 0 мин.
       ---------------------------
       Суммарное время печати: 260 мин.
       Общее количество символов: 32000

       Необходимо напечатать 52000 символов на языке fi, чтобы его скорость сравнялась с самым быстрым языком ru.
       ```
8. Тест на ограничение `Язык еще не был добавлен`:

   - **Input**:
       ```
       RapidPrint child = new RapidPrint();
       child.LearningNewLanguage("eng");
       child.gettingSpeed("fi");
       ```

   - **Output**:
       ```
       Язык eng успешно добавлен!
       Язык не найден!
       ```

9. Тест на ограничение `Превышен лимит языков`:

   - **Input**:
       ```
       RapidPrint child = new RapidPrint();
       child.LearningNewLanguage("eng");
       child.LearningNewLanguage("fi");
       child.LearningNewLanguage("ch");
       child.LearningNewLanguage("kz");
       child.LearningNewLanguage("be");
       ```

   - **Output**:
       ```
       Язык eng успешно добавлен!
       Язык fi успешно добавлен!
       Язык ch успешно добавлен!
       Язык kz успешно добавлен!
       Количество языков превышает лимит! Программа поддерживает до пяти языков!
       ```
